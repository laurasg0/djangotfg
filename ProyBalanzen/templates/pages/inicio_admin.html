{% extends 'pages/base.html' %}
{% load static %}

{% block content %}
<!-- Layout con sidebar lateral -->
<div class="admin-layout">
    <!-- Sidebar izquierdo con navegación -->
    <aside class="sidebar">
        <nav class="sidebar-nav">
            <h3 style="color:var(--blanco); margin-bottom:20px;">Menú</h3>
            <ul>
                <li><a href="inicio_admin.html" class="active">
                        <span class="material-icons">dashboard</span> Resumen
                    </a></li>
                <li><a href="#reservas">
                        <span class="material-icons">event</span> Reservas
                    </a></li>
                <li><a href="#clases">
                        <span class="material-icons">fitness_center</span> Clases
                    </a></li>
                <li><a href="#usuarios">
                        <span class="material-icons">people</span> Usuarios
                    </a></li>
                <li><a href="#locales">
                        <span class="material-icons">store</span> Locales
                    </a></li>
                <li><a href="#Anuncios">
                        <span class="material-icons">announcement</span> Anuncios
                    </a></li>
                <li><a href="#reportes">
                        <span class="material-icons">assessment</span> Reportes
                    </a></li>
            </ul>
        </nav>
    </aside>

    <!-- Contenido principal del admin -->
    <main class="admin-content">
        <!-- Título de la página -->
        <div class="page-title">
            <h1>Resumen</h1>
            <p style="color:var(--gris); font-size:14px;">Gestiona tu negocio desde aquí</p>
        </div>

        <!-- Tarjetas de estadísticas principales -->
        <section class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon" style="background-color:#E8F5E9;">
                    <span class="material-icons" style="color:var(--success);">people</span>
                </div>
                <div class="stat-info">
                    <h3>Usuarios Totales</h3>
                    <!-- MOSTRAR USUARIOS TOTALES (desde la view de AdminView) -->
                    <p class="stat-number">{{ total_usuarios }}</p>
                    <span class="stat-badge success">+12% este mes</span>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-icon" style="background-color:#FFF3E0;">
                    <span class="material-icons" style="color:#F57C00;">event</span>
                </div>
                <div class="stat-info">
                    <h3>Reservas Totales</h3>
                    <p class="stat-number">{{ reservas_totales }}</p>
                    <span class="stat-badge warning">8 pendientes</span>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-icon" style="background-color:#E3F2FD;">
                    <span class="material-icons" style="color:#1976D2;">fitness_center</span>
                </div>
                <div class="stat-info">
                    <h3>Clases Programadas</h3>
                    <p class="stat-number">{{ clases_programadas }}</p>
                    <span class="stat-badge info">6 instructores</span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon" style="background-color:#FCE4EC;">
                    <span class="material-icons" style="color:#D81B60;">shopping_cart</span>
                </div>
                <div class="stat-info">
                    <h3>Ventas del Mes</h3>
                    <p class="stat-number">€5,430</p>
                    <span class="stat-badge success">+15% respecto al mes pasado</span>
                </div>
        </section>

        <!-- Tabla de últimas reservas -->
        <section class="content-section">
            <div class="section-header">
                <h2>Últimas Reservas</h2>
                <a href="#todas" class="btn-link">Ver todas</a>
            </div>
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Usuario</th>
                        <th>Clase</th>
                        <th>Fecha</th>
                        <th>Hora</th>
                        <th>Estado</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>María García</td>
                        <td>Pilates Reformer</td>
                        <td>30/11/2025</td>
                        <td>10:00</td>
                        <td><span class="badge success">Confirmada</span></td>
                        <td>
                            <button class="btn-icon" title="Ver detalles">
                                <span class="material-icons">visibility</span>
                            </button>
                            <button class="btn-icon" title="Editar">
                                <span class="material-icons">edit</span>
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <td>Juan Martínez</td>
                        <td>Yoga Mat</td>
                        <td>30/11/2025</td>
                        <td>12:00</td>
                        <td><span class="badge warning">Pendiente</span></td>
                        <td>
                            <button class="btn-icon" title="Ver detalles">
                                <span class="material-icons">visibility</span>
                            </button>
                            <button class="btn-icon" title="Editar">
                                <span class="material-icons">edit</span>
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <td>Laura Pérez</td>
                        <td>Pilates Avanzado</td>
                        <td>01/12/2025</td>
                        <td>18:00</td>
                        <td><span class="badge success">Confirmada</span></td>
                        <td>
                            <button class="btn-icon" title="Ver detalles">
                                <span class="material-icons">visibility</span>
                            </button>
                            <button class="btn-icon" title="Editar">
                                <span class="material-icons">edit</span>
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <td>Carlos Ruiz</td>
                        <td>Pilates Mat</td>
                        <td>01/12/2025</td>
                        <td>09:00</td>
                        <td><span class="badge error">Cancelada</span></td>
                        <td>
                            <button class="btn-icon" title="Ver detalles">
                                <span class="material-icons">visibility</span>
                            </button>
                            <button class="btn-icon" title="Editar">
                                <span class="material-icons">edit</span>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Comunicación: Visualizar anuncios -->
         <section class="content-section">
            <div>
                <p>Comunicación</p>
                <h2>Últimos Anuncios</h2>
                <div class="ads-card">
                    <h2>Título Anuncio</h2>
                    <p>Fecha</p>
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Soluta dolor voluptate labore quis aliquid non veniam laborum quasi, error atque molestiae voluptates nulla aspernatur id totam earum maxime! Corrupti, reiciendis!</p>
                </div>
                <div class="ads-card">
                    <h2>Título Anuncio</h2>
                    <p>Fecha</p>
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Soluta dolor voluptate labore quis aliquid non veniam laborum quasi, error atque molestiae voluptates nulla aspernatur id totam earum maxime! Corrupti, reiciendis!</p>
                </div>
                <div class="ads-card">
                    <h2>Título Anuncio</h2>
                    <p>Fecha</p>
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Soluta dolor voluptate labore quis aliquid non veniam laborum quasi, error atque molestiae voluptates nulla aspernatur id totam earum maxime! Corrupti, reiciendis!</p>
                </div>
            </div>

         </section>

        <!-- Acciones rápidas -->
        <section class="quick-actions">
            <h2 style="grid-column:1/-1; margin-bottom:10px;">Acciones Rápidas</h2>

            <a href="#nueva-reserva" class="action-btn">
                <span class="material-icons">add_circle</span>
                <span>Nueva Reserva</span>
            </a>

            <a href="#nueva-clase" class="action-btn">
                <span class="material-icons">event_available</span>
                <span>Programar Clase</span>
            </a>

            <a href="#nuevo-usuario" class="action-btn">
                <span class="material-icons">person_add</span>
                <span>Añadir Usuario</span>
            </a>

            <a href="#reportes" class="action-btn">
                <span class="material-icons">bar_chart</span>
                <span>Ver Reportes</span>
            </a>
        </section>
    </main>
</div>

{% endblock %}